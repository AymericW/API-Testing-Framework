{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "Become A Retail Customer",
    "description": "yaml definition of all the services used in Become a Retail Customer Journey",
    "contact": {
      "name": "Name of API owner"
    }
  },
  "host": "wddm0075.be.fortis.bank:4000",
  "basePath": "/OCPL-pr90/rpc",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "definitions": {
    "Status": {
      "description": "status of the whole CJBRC process",
      "type": "object",
      "properties": {
        "pspStatus": {
          "type": "string",
          "enum": [
            "INITAL",
            "PSP_UGRADED",
            "PSP_NOT_UPGRADED"
          ]
        },
        "filesDeleted": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "eidCardValidation": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "zipFileStatus": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "proofOfAuthenticity": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "signaleticDocument": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "proofOfAddress": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "proofOfIdentity": {
          "type": "string",
          "enum": [
            "INITIAL",
            "SUCCESS",
            "RETRY",
            "ERROR"
          ]
        },
        "remark": {
          "type": [ "string", "null" ]
        },
        "score": {
          "type": [ "string", "null" ]
        },
        "validation": {
          "type": [ "string", "null" ]
        }
      }
    },
    "Prospect": {
      "required": [
        "firstName"
      ],
      "properties": {
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "accountNumber": {
          "type": [ "string", "null" ]
        },
        "email": {
          "type": "string"
        },
        "emailConsent": {
          "type": [ "string", "null" ],
          "enum": [
            "0",
            "1"
          ]
        },
        "id": {
          "type": [ "string", "null" ]
        },
        "identId": {
          "type": [ "string", "null" ]
        },
        "phoneNumber": {
          "type": [ "string", "null" ],
          "description": "phoneNumber"
        },
        "streetName": {
          "type": [ "string", "null" ],
          "description": "streetName"
        },
        "houseNumber": {
          "type": [ "string", "null" ],
          "description": "houseNumber"
        },
        "boxNumber": {
          "type": [ "string", "null" ],
          "description": "boxNumber"
        },
        "zipCode": {
          "type": [ "string", "null" ],
          "description": "zipCode"
        },
        "city": {
          "type": [ "string", "null" ],
          "description": "city"
        },
        "countryCode": {
          "type": [ "string", "null" ],
          "description": "countryCode"
        },
        "civilStatus": {
          "type": [ "string", "null" ],
          "description": "civilStatus"
        },
        "language": {
          "type": [ "string", "null" ],
          "description": "language",
          "enum": [
            "FR",
            "NL",
            "EN",
            "DE"
          ]
        },
        "brand": {
          "type": [ "string", "null" ],
          "description": "brand",
          "enum": [
            "HB",
            "FR"
          ]
        },
        "profession": {
          "type": [ "integer", "null" ],
          "description": "profession",
          "enum": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9
          ]
        },
        "countryOfActivity": {
          "type": [ "string", "null" ],
          "description": "countryOfActivity"
        },
        "sectorOfActivity": {
          "type": [ "string", "null" ],
          "description": "sectorOfActivity"
        },
        "subSectorOfActivity": {
          "type": [ "string", "null" ],
          "description": "subSectorOfActivity"
        },
        "dateOfBirth": {
          "type": [ "string", "null" ],
          "description": "dateOfBirth"
        },
        "packChosen": {
          "type": [ "string", "null" ],
          "description": "packChosen"
        },
        "belgianfiscalAddress": {
          "type": [ "string", "null" ],
          "description": "belgianfiscalAddress",
          "enum": [
            "0",
            "1"
          ]
        },
        "americanCitizen": {
          "type": [ "string", "null" ],
          "description": "americanCitizen",
          "enum": [
            "0",
            "1"
          ]
        },
        "americanAddress": {
          "type": [ "string", "null" ],
          "description": "americanAddress",
          "enum": [
            "0",
            "1"
          ]
        },
        "PSP": {
          "type": [ "string", "null" ],
          "description": "PSP"
        },
        "SMID": {
          "type": [ "string", "null" ],
          "description": "SMID"
        },
        "status": {
          "$ref": "#/definitions/Status"
        },
        "product": {
          "type": [
            "string",
            "null"
          ]
        },
        "timestamp": {
          "type": ["integer", "null"]
        },
        "eidCard": {
          "type": [
            [ "string", "null" ]
          ],
          "description": "status of the whole CJBRC process",
          "properties": {
            "eidCardNumber": {
              "type": [ "string", "null" ]
            },
            "addressBin": {
              "type": [ "string", "null" ]
            },
            "birthDate": {
              "type": [ "string", "null" ]
            },
            "birthPlace": {
              "type": [ "string", "null" ]
            },
            "branchCode": {
              "type": [ "string", "null" ]
            },
            "branchName": {
              "type": [ "string", "null" ]
            },
            "brand": {
              "type": [ "string", "null" ]
            },
            "brcStatus": {
              "type": [ "string", "null" ]
            },
            "channel": {
              "type": [ "string", "null" ]
            },
            "commune": {
              "type": [ "string", "null" ]
            },
            "creationTimestamp": {
              "type": [ "string", "null" ]
            },
            "documentType": {
              "type": [ "string", "null" ]
            },
            "duplicata": {
              "type": [ "string", "null" ]
            },
            "eidBackPhoto": {
              "type": [ "string", "null" ]
            },
            "eidCommuneDelivered": {
              "type": [ "string", "null" ]
            },
            "eidFrontPhoto": {
              "type": [ "string", "null" ]
            },
            "eidValidEndDate": {
              "type": [ "string", "null" ]
            },
            "eidValidStartDate": {
              "type": [ "string", "null" ]
            },
            "eidXmlResMsg": {
              "type": [ "string", "null" ]
            },
            "firstInitial": {
              "type": [ "string", "null" ]
            },
            "firstNames": {
              "type": [ "string", "null" ]
            },
            "gender": {
              "type": [ "string", "null" ],
              "enum": [
                "M",
                "F"
              ]
            },
            "identityBin": {
              "type": [ "string", "null" ]
            },
            "lastUpdateTimestamp": {
              "type": [ "string", "null" ]
            },
            "name": {
              "type": [ "string", "null" ]
            },
            "nationalRegistryNumber": {
              "type": [ "string", "null" ]
            },
            "nationality": {
              "type": [ "string", "null" ]
            },
            "nobleCondition": {
              "type": [ "string", "null" ]
            },
            "otherDocsGeneratedTs": {
              "type": [ "string", "null" ]
            },
            "pdfGeneratedTimestamp": {
              "type": [ "string", "null" ]
            },
            "photo": {
              "type": [ "string", "null" ]
            },
            "postalCode": {
              "type": [ "string", "null" ]
            },
            "pspFound": {
              "type": [ "string", "null" ]
            },
            "pspLastSearchTimestamp": {
              "type": [ "string", "null" ]
            },
            "server": {
              "type": [ "string", "null" ]
            },
            "specialOrg": {
              "type": [ "string", "null" ]
            },
            "specialStatus": {
              "type": [ "string", "null" ]
            },
            "status": {
              "type": [ "string", "null" ]
            },
            "streetAndNumber": {
              "type": [ "string", "null" ]
            }
          }
        }
      }
    }
  },
  "paths": {
    "/prospects": {
      "post": {
        "tags": [
          "CJBRC"
        ],
        "summary": "Add a new prospect",
        "description": "",
        "operationId": "addProspect",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Prospect object that needs to be added",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Prospect"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/Prospect"
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "404": {
            "description": "prospect not found"
          },
          "500": {
            "description": "Technical error"
          }
        }
      }
    },
    "/prospect/{id}/status": {
      "get": {
        "tags": [
          "CJBRC"
        ],
        "summary": "fetch all status of the prospect",
        "description": "Multiple status values can be provided with comma separated strings",
        "operationId": "status",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of pet to return",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          },
          "400": {
            "description": "Invalid status value"
          },
          "404": {
            "description": "Prospect not found"
          },
          "500": {
            "description": "Technical error"
          }
        }
      }
    },
    "/prospect/{id}": {
      "get": {
        "tags": [
          "CJBRC"
        ],
        "summary": "Find prsopect by ID",
        "description": "Returns a single prospect",
        "operationId": "getProspecyById",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of pet to return",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/Prospect"
            }
          },
          "400": {
            "description": "Invalid ID supplied"
          },
          "404": {
            "description": "prospect not found"
          },
          "500": {
            "description": "Technical error"
          }
        }
      },
      "put": {
        "tags": [
          "CJBRC"
        ],
        "summary": "Partially update the prospect",
        "description": "",
        "operationId": "updateProspect",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of pet to return",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Prospect object that needs to be added",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Prospect"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Accepted"
          },
          "400": {
            "description": "Invalid input"
          },
          "404": {
            "description": "prospect not found"
          },
          "500": {
            "description": "Technical error"
          }
        }
      }
    }
  }
}